"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[247],{757:function(n,e,t){t.d(e,{Hx:function(){return h},WK:function(){return v},Y5:function(){return l},uV:function(){return p},wr:function(){return u}});var r=t(861),c=t(687),i=t.n(c),a=t(243),o="9391d9eb657d7ce69073c80004150e40",s="https://api.themoviedb.org/3/";function u(){return a.Z.get("".concat(s,"trending/all/day?api_key=").concat(o))}function l(n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=a.Z.get("".concat(s,"movie/").concat(e,"?api_key=").concat(o,"&language=en-US")),n.abrupt("return",t);case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function p(n){return a.Z.get("".concat(s,"movie/").concat(n,"/credits?api_key=").concat(o,"&language=en-US"))}function h(n){return a.Z.get("".concat(s,"movie/").concat(n,"/reviews?api_key=").concat(o,"&language=en-US&"))}function v(n){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.Z.get("".concat(s,"search/movie?api_key=").concat(o,"&language=en-US&page=1&include_adult=false&query=").concat(e));case 2:return t=n.sent,n.abrupt("return",t.data.results);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},247:function(n,e,t){t.r(e),t.d(e,{default:function(){return w}});var r,c,i,a=t(861),o=t(439),s=t(687),u=t.n(s),l=t(757),d=t(791),p=t(689),h=t(168),v=t(934),f=t(87),x=v.Z.div(r||(r=(0,h.Z)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100px;\n  padding: 5px 10px;\n"]))),g=(0,v.Z)(f.OL)(c||(c=(0,h.Z)(["\n  font-weight: 300;\n  color: black;\n  &.active {\n    color: blue;\n  }\n  &.hover {\n    color: blue;\n  }\n"]))),b=v.Z.button(i||(i=(0,h.Z)(["\n  display: inline-block;\n  padding: 5px 10px;\n  font-size: 20px;\n  cursor: pointer;\n  text-align: center;\n  text-decoration: none;\n  outline: none;\n  color: white;\n  background-color: blue;\n  border: none;\n  border-radius: 15px;\n  box-shadow: 0 9px #999;\n  &:hover {\n    color: black;\n    box-shadow: 0 5px #666;\n    background-color: red;\n  }\n"]))),j=g,m=t(184);function w(){var n=(0,d.useState)([]),e=(0,o.Z)(n,2),t=e[0],r=e[1],c=(0,d.useState)(!1),i=(0,o.Z)(c,2),s=i[0],h=i[1],v=(0,p.UO)().movieId,f=(0,p.TH)(),g=(0,p.s0)();return(0,d.useEffect)((function(){function n(){return(n=(0,a.Z)(u().mark((function n(){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,l.Y5)(v);case 3:e=n.sent,h(!0),r(e.data),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),h(!1),alert("something wrong");case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[v]),s?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(b,{variant:"outlined",onClick:function(){var n,e;g(null!==(n=null===f||void 0===f||null===(e=f.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/")},children:"Go back"}),t&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("h1",{children:[t.title," (",t.release_date.slice(0,4),")"]}),(0,m.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/"+t.poster_path,alt:"",height:"450px"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:t.title}),(0,m.jsxs)("p",{children:["User Score: ",Number(t.vote_average).toFixed(1)]}),(0,m.jsx)("h3",{children:"Overview"}),(0,m.jsx)("p",{children:t.overview}),(0,m.jsx)("h3",{children:"Genres"}),(0,m.jsx)("p",{children:t.genres.map((function(n){return n.name})).join(" ")})]})]}),(0,m.jsx)("p",{children:"Additional information"}),(0,m.jsxs)(x,{children:[(0,m.jsx)(j,{to:"cast",state:f.state,children:"Cast"}),(0,m.jsx)(j,{to:"reviews",state:f.state,children:"Reviews"})]}),(0,m.jsx)(d.Suspense,{fallback:(0,m.jsx)("div",{children:"Loading..."}),children:(0,m.jsx)(p.j3,{})})]})]}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(b,{variant:"outlined",onClick:function(){var n,e;g(null!==(n=null===f||void 0===f||null===(e=f.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/")},children:"Go back"})})}}}]);
//# sourceMappingURL=247.8f257013.chunk.js.map